@* @{ *@
@*     ViewData["Title"] = "個人排班 - MES 巡檢系統"; *@
@*     Layout = "_Layout"; *@
@* } *@

@* @section css { *@
@*     <style> *@
@*         .dashboard-card { *@
@*             background: white; *@
@*             border: 1px solid #ddd; *@
@*             border-radius: 8px; *@
@*             padding: 30px; *@
@*             margin: 20px 0; *@
@*             box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); *@
@*         } *@

@*         .welcome-title { *@
@*             color: #0071b2; *@
@*             margin-bottom: 20px; *@
@*             text-align: center; *@
@*         } *@

@*         .user-details { *@
@*             background-color: #f8f9fa; *@
@*             border: 1px solid #e9ecef; *@
@*             border-radius: 4px; *@
@*             padding: 20px; *@
@*             margin: 20px 0; *@
@*         } *@

@*             .user-details .detail-row { *@
@*                 display: flex; *@
@*                 justify-content: space-between; *@
@*                 margin-bottom: 10px; *@
@*                 padding-bottom: 5px; *@
@*                 border-bottom: 1px solid #e9ecef; *@
@*             } *@

@*                 .user-details .detail-row:last-child { *@
@*                     margin-bottom: 0; *@
@*                     border-bottom: none; *@
@*                 } *@

@*         .detail-label { *@
@*             font-weight: 600; *@
@*             color: #666; *@
@*         } *@

@*         .detail-value { *@
@*             color: #333; *@
@*         } *@

@*         .notice { *@
@*             background-color: #fff3cd; *@
@*             border: 1px solid #ffeaa7; *@
@*             border-radius: 4px; *@
@*             padding: 15px; *@
@*             margin-top: 20px; *@
@*             color: #856404; *@
@*         } *@

@*         .btn-group { *@
@*             margin-top: 30px; *@
@*             text-align: center; *@
@*         } *@

@*         .btn-custom { *@
@*             background-color: #0071b2; *@
@*             color: white; *@
@*             border: none; *@
@*             padding: 10px 20px; *@
@*             border-radius: 4px; *@
@*             font-size: 14px; *@
@*             cursor: pointer; *@
@*             margin: 0 5px; *@
@*             text-decoration: none; *@
@*             display: inline-block; *@
@*         } *@

@*             .btn-custom:hover { *@
@*                 background-color: #005a8f; *@
@*                 color: white; *@
@*                 text-decoration: none; *@
@*             } *@

@*         .btn-secondary { *@
@*             background-color: #666; *@
@*         } *@

@*             .btn-secondary:hover { *@
@*                 background-color: #888; *@
@*             } *@

@*         /* 手機版響應 */ *@
@*         @@media (max-width: 480px) { *@
@*             .user-details .detail-row *@

@*         { *@
@*             flex-direction: column; *@
@*         } *@

@*         .detail-label { *@
@*             margin-bottom: 5px; *@
@*         } *@

@*         .btn-group .btn-custom { *@
@*             display: block; *@
@*             width: 100%; *@
@*             margin: 5px 0; *@
@*         } *@

@*         } *@
@*     </style> *@
@* } *@

@* <div class="dashboard-card"> *@
@*     <h2 class="welcome-title">歡迎使用 MES 巡檢系統</h2> *@
@*     <p class="text-center">登入成功！您已進入個人排班頁面。</p> *@

@*     <div class="user-details"> *@
@*         <div class="detail-row"> *@
@*             <span class="detail-label">工號：</span> *@
@*             <span class="detail-value">@ViewBag.UserNo</span> *@
@*         </div> *@
@*         <div class="detail-row"> *@
@*             <span class="detail-label">姓名：</span> *@
@*             <span class="detail-value">@ViewBag.UserName</span> *@
@*         </div> *@
@*         <div class="detail-row"> *@
@*             <span class="detail-label">部門：</span> *@
@*             <span class="detail-value">@ViewBag.DepartmentName</span> *@
@*         </div> *@
@*         <div class="detail-row"> *@
@*             <span class="detail-label">職稱：</span> *@
@*             <span class="detail-value">@ViewBag.TitleName</span> *@
@*         </div> *@
@*         <div class="detail-row"> *@
@*             <span class="detail-label">登入時間：</span> *@
@*             <span class="detail-value">@ViewBag.CurrentTime</span> *@
@*         </div> *@
@*     </div> *@

@*     <div class="notice"> *@
@*         <strong>系統狀態：</strong>基礎登入功能已完成<br> *@
@*         巡檢排班功能正在開發中，敬請期待... *@
@*     </div> *@

@*     <div class="btn-group"> *@
@*         <button class="btn-custom" onclick="refreshPage()"> *@
@*             <i class="fa-solid fa-refresh"></i> 重新整理 *@
@*         </button> *@
@*         <button class="btn-custom btn-secondary" onclick="logout()"> *@
@*             <i class="fa-solid fa-right-from-bracket"></i> 登出系統 *@
@*         </button> *@
@*     </div> *@
@* </div> *@

@* @section scripts { *@
@*     <script> *@
@*         // 登出功能 *@
@*         async function logout() { *@
@*             if (confirm('確定要登出嗎？')) { *@
@*                 try { *@
@*                     const response = await fetch('@Url.Action("Logout", "Inspection")', { *@
@*                         method: 'POST', *@
@*                         headers: { *@
@*                             'RequestVerificationToken': $('input[name="__RequestVerificationToken"]').val() *@
@*                         } *@
@*                     }); *@
@*                     window.location.href = '@Url.Action("Login", "Account")'; *@
@*                 } catch (error) { *@
@*                     window.location.href = '@Url.Action("Login", "Account")'; *@
@*                 } *@
@*             } *@
@*         } *@

@*         // 重新整理頁面 *@
@*         function refreshPage() { *@
@*             window.location.reload(); *@
@*         } *@

@*         // 檢查登入狀態 *@
@*         async function checkLoginStatus() { *@
@*             try { *@
@*                 const response = await fetch('@Url.Action("CheckLoginStatus", "Account")'); *@
@*                 const result = await response.json(); *@

@*                 if (!result.isLoggedIn) { *@
@*                     alert('登入已過期，請重新登入'); *@
@*                     window.location.href = '@Url.Action("Login", "Account")'; *@
@*                 } *@
@*             } catch (error) { *@
@*                 console.log('檢查登入狀態失敗:', error); *@
@*             } *@
@*         } *@

@*         // 每10分鐘檢查一次登入狀態 *@
@*         setInterval(checkLoginStatus, 10 * 60 * 1000); *@

@*         // 頁面載入完成 *@
@*         $(document).ready(function() { *@
@*             console.log('Dashboard loaded successfully'); *@
@*         }); *@
@*     </script> *@

@*     @Html.AntiForgeryToken() *@
@* } *@
@*  #333; *@
@*             margin-bottom: 20px; *@
@*         } *@

@*         .user-details { *@
@*             background-color: #f8f9fa; *@
@*             border: 1px solid #e9ecef; *@
@*             border-radius: 4px; *@
@*             padding: 20px; *@
@*             margin: 20px 0; *@
@*             text-align: left; *@
@*         } *@

@*         .user-details .detail-row { *@
@*             display: flex; *@
@*             justify-content: space-between; *@
@*             margin-bottom: 10px; *@
@*             padding-bottom: 5px; *@
@*             border-bottom: 1px solid #e9ecef; *@
@*         } *@

@*         .user-details .detail-row:last-child { *@
@*             margin-bottom: 0; *@
@*             border-bottom: none; *@
@*         } *@

@*         .detail-label { *@
@*             font-weight: 600; *@
@*             color: #666; *@
@*         } *@

@*         .detail-value { *@
@*             color: #333; *@
@*         } *@

@*         .notice { *@
@*             background-color: #fff3cd; *@
@*             border: 1px solid #ffeaa7; *@
@*             border-radius: 4px; *@
@*             padding: 15px; *@
@*             margin-top: 20px; *@
@*             color: #856404; *@
@*         } *@

@*         .btn-group { *@
@*             margin-top: 30px; *@
@*         } *@

@*         .btn { *@
@*             background-color: #333; *@
@*             color: white; *@
@*             border: none; *@
@*             padding: 10px 20px; *@
@*             border-radius: 4px; *@
@*             font-size: 14px; *@
@*             cursor: pointer; *@
@*             margin: 0 5px; *@
@*             text-decoration: none; *@
@*             display: inline-block; *@
@*         } *@

@*         .btn:hover { *@
@*             background-color: #555; *@
@*         } *@

@*         .btn-secondary { *@
@*             background-color: #666; *@
@*         } *@

@*         .btn-secondary:hover { *@
@*             background-color: #888; *@
@*         } *@

@*         /* 手機版響應 */ *@
@* @@media (max-width: 480px) { *@
@*             .header { *@
@*                 flex-direction: column; *@
@*                 align-items: flex-start; *@
@*             } *@

@*             .header-left { *@
@*                 width: 100%; *@
@*                 margin-bottom: 10px; *@
@*             } *@

@*             .header .logo { *@
@*                 height: 35px; *@
@*                 margin-right: 10px; *@
@*             } *@

@*             .user-info { *@
@*                 text-align: left; *@
@*                 width: 100%; *@
@*             } *@

@*             .container { *@
@*                 padding: 15px; *@
@*             } *@

@*             .user-details .detail-row { *@
@*                 flex-direction: column; *@
@*             } *@

@*             .detail-label { *@
@*                 margin-bottom: 5px; *@
@*             } *@
@*         } *@
@*     </style> *@
@* </head> *@
@* <body> *@
@*     <div class="header"> *@
@*         <div class="header-left"> *@
@*             <!-- 公司 Logo --> *@
@*             <img src="~/images/logo.png" alt="公司 Logo" class="logo" /> *@
@*             <div> *@
@*                 <h1>MES 巡檢系統 - 個人排班</h1> *@
@*             </div> *@
@*         </div> *@
@*         <div class="user-info"> *@
@*             <div>@ViewBag.UserName (@ViewBag.UserNo)</div> *@
@*             <div>@ViewBag.DepartmentName 部門</div> *@
@*             <div>@ViewBag.TitleName</div> *@
@*             <div>@ViewBag.CurrentTime</div> *@
@*             <button class="logout-btn" onclick="logout()">登出</button> *@
@*         </div> *@
@*     </div> *@

@*     <div class="container"> *@
@*         <div class="welcome-card"> *@
@*             <h2>歡迎使用 MES 巡檢系統</h2> *@
@*             <p>登入成功！您已進入個人排班頁面。</p> *@

@*             <div class="user-details"> *@
@*                 <div class="detail-row"> *@
@*                     <span class="detail-label">工號：</span> *@
@*                     <span class="detail-value">@ViewBag.UserNo</span> *@
@*                 </div> *@
@*                 <div class="detail-row"> *@
@*                     <span class="detail-label">姓名：</span> *@
@*                     <span class="detail-value">@ViewBag.UserName</span> *@
@*                 </div> *@
@*                 <div class="detail-row"> *@
@*                     <span class="detail-label">部門：</span> *@
@*                     <span class="detail-value">@ViewBag.DepartmentName</span> *@
@*                 </div> *@
@*                 <div class="detail-row"> *@
@*                     <span class="detail-label">職稱：</span> *@
@*                     <span class="detail-value">@ViewBag.TitleName</span> *@
@*                 </div> *@
@*                 <div class="detail-row"> *@
@*                     <span class="detail-label">登入時間：</span> *@
@*                     <span class="detail-value">@ViewBag.CurrentTime</span> *@
@*                 </div> *@
@*             </div> *@

@*             <div class="notice"> *@
@*                 <strong>系統狀態：</strong>基礎登入功能已完成<br> *@
@*                 巡檢排班功能正在開發中，敬請期待... *@
@*             </div> *@

@*             <div class="btn-group"> *@
@*                 <button class="btn" onclick="refreshPage()">重新整理</button> *@
@*                 <button class="btn btn-secondary" onclick="logout()">登出系統</button> *@
@*             </div> *@
@*         </div> *@
@*     </div> *@

@*     <script> *@
@*         // Logo 錯誤處理 *@
@*         document.addEventListener('DOMContentLoaded', function() { *@
@*             const logo = document.querySelector('.header .logo'); *@
@*             if (logo) { *@
@*                 logo.addEventListener('error', function() { *@
@*                     this.style.display = 'none'; *@
@*                     console.log('Logo 檔案不存在，已隱藏圖片元素'); *@
@*                 }); *@
@*             } *@
@*         }); *@

@*         // 登出功能 *@
@*         async function logout() { *@
@*             if (confirm('確定要登出嗎？')) { *@
@*                 try { *@
@*                     const response = await fetch('@Url.Action("Logout", "Inspection")', { *@
@*                         method: 'POST', *@
@*                         headers: { *@
@*                             'RequestVerificationToken': document.querySelector('input[name="__RequestVerificationToken"]')?.value *@
@*                         } *@
@*                     }); *@
@*                     window.location.href = '@Url.Action("Login", "Account")'; *@
@*                 } catch (error) { *@
@*                     window.location.href = '@Url.Action("Login", "Account")'; *@
@*                 } *@
@*             } *@
@*         } *@

@*         // 重新整理頁面 *@
@*         function refreshPage() { *@
@*             window.location.reload(); *@
@*         } *@

@*         // 檢查登入狀態 *@
@*         async function checkLoginStatus() { *@
@*             try { *@
@*                 const response = await fetch('@Url.Action("CheckLoginStatus", "Account")'); *@
@*                 const result = await response.json(); *@

@*                 if (!result.isLoggedIn) { *@
@*                     alert('登入已過期，請重新登入'); *@
@*                     window.location.href = '@Url.Action("Login", "Account")'; *@
@*                 } *@
@*             } catch (error) { *@
@*                 console.log('檢查登入狀態失敗:', error); *@
@*             } *@
@*         } *@

@*         // 每10分鐘檢查一次登入狀態 *@
@*         setInterval(checkLoginStatus, 10 * 60 * 1000); *@

@*         // 頁面載入完成 *@
@*         document.addEventListener('DOMContentLoaded', function() { *@
@*             console.log('Dashboard loaded successfully'); *@
@*         }); *@
@*     </script> *@

@*     @Html.AntiForgeryToken() *@
@* </body> *@
@* </html>header-left { *@
@*             display: flex; *@
@*             align-items: center; *@
@*         } *@

@*         .header .logo { *@
@*             height: 40px; *@
@*             width: auto; *@
@*             margin-right: 15px; *@
@*         } *@

@*         .header h1 { *@
@*             font-size: 18px; *@
@*             margin-bottom: 5px; *@
@*         } *@

@*         .user-info { *@
@*             font-size: 14px; *@
@*             text-align: right; *@
@*         } *@

@*         .user-info div { *@
@*             margin-bottom: 3px; *@
@*         } *@

@*         .logout-btn { *@
@*             background-color: #666; *@
@*             color: white; *@
@*             border: none; *@
@*             padding: 8px 15px; *@
@*             border-radius: 4px; *@
@*             font-size: 12px; *@
@*             cursor: pointer; *@
@*             margin-top: 5px; *@
@*         } *@

@*         .logout-btn:hover { *@
@*             background-color: #888; *@
@*         } *@

@*         .container { *@
@*             padding: 20px; *@
@*             max-width: 800px; *@
@*             margin: 0 auto; *@
@*         } *@

@*         .welcome-card { *@
@*             background: white; *@
@*             border: 1px solid #ddd; *@
@*             border-radius: 8px; *@
@*             padding: 30px; *@
@*             text-align: center; *@
@*             box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); *@
@*         } *@

@*         .welcome-card h2 { *@
@*             color: #333; *@
@*             margin-bottom: 20px; *@
@*         } *@

@*         .user-details { *@
@*             background-color: #f8f9fa; *@
@*             border: 1px solid #e9ecef; *@
@*             border-radius: 4px; *@
@*             padding: 20px; *@
@*             margin: 20px 0; *@
@*             text-align: left; *@
@*         } *@

@*         .user-details .detail-row { *@
@*             display: flex; *@
@*             justify-content: space-between; *@
@*             margin-bottom: 10px; *@
@*             padding-bottom: 5px; *@
@*             border-bottom: 1px solid #e9ecef; *@
@*         } *@

@*         .user-details .detail-row:last-child { *@
@*             margin-bottom: 0; *@
@*             border-bottom: none; *@
@*         } *@

@*         .detail-label { *@
@*             font-weight: 600; *@
@*             color: #666; *@
@*         } *@

@*         .detail-value { *@
@*             color: #333; *@
@*         } *@

@*         .notice { *@
@*             background-color: #fff3cd; *@
@*             border: 1px solid #ffeaa7; *@
@*             border-radius: 4px; *@
@*             padding: 15px; *@
@*             margin-top: 20px; *@
@*             color: #856404; *@
@*         } *@

@*         .btn-group { *@
@*             margin-top: 30px; *@
@*         } *@

@*         .btn { *@
@*             background-color: #333; *@
@*             color: white; *@
@*             border: none; *@
@*             padding: 10px 20px; *@
@*             border-radius: 4px; *@
@*             font-size: 14px; *@
@*             cursor: pointer; *@
@*             margin: 0 5px; *@
@*             text-decoration: none; *@
@*             display: inline-block; *@
@*         } *@

@*         .btn:hover { *@
@*             background-color: #555; *@
@*         } *@

@*         .btn-secondary { *@
@*             background-color: #666; *@
@*         } *@

@*         .btn-secondary:hover { *@
@*             background-color: #888; *@
@*         } *@

@*         /* 手機版響應 */ *@
@* @@media (max-width: 480px) { *@
@*             .header { *@
@*                 flex-direction: column; *@
@*                 align-items: flex-start; *@
@*             } *@

@*             .header-left { *@
@*                 width: 100%; *@
@*                 margin-bottom: 10px; *@
@*             } *@

@*             .header .logo { *@
@*                 height: 35px; *@
@*                 margin-right: 10px; *@
@*             } *@

@*             .user-info { *@
@*                 text-align: left; *@
@*                 width: 100%; *@
@*             } *@

@*             .container { *@
@*                 padding: 15px; *@
@*             } *@

@*             .user-details .detail-row { *@
@*                 flex-direction: column; *@
@*             } *@

@*             .detail-label { *@
@*                 margin-bottom: 5px; *@
@*             } *@
@*         } *@
@*     </style> *@
@* </head> *@
@* <body> *@
@*     <div class="header"> *@
@*         <div class="header-left"> *@
@*             <!-- 公司 Logo --> *@
@*             <img src="~/images/logo.png" alt="公司 Logo" class="logo" /> *@
@*             <div> *@
@*                 <h1>MES 巡檢系統 - 個人排班</h1> *@
@*             </div> *@
@*         </div> *@
@*         <div class="user-info"> *@
@*             <div>@ViewBag.UserName (@ViewBag.UserNo)</div> *@
@*             <div>@ViewBag.DepartmentName 部門</div> *@
@*             <div>@ViewBag.TitleName</div> *@
@*             <div>@ViewBag.CurrentTime</div> *@
@*             <button class="logout-btn" onclick="logout()">登出</button> *@
@*         </div> *@
@*     </div> *@

@*     <div class="container"> *@
@*         <div class="welcome-card"> *@
@*             <h2>歡迎使用 MES 巡檢系統</h2> *@
@*             <p>登入成功！您已進入個人排班頁面。</p> *@

@*             <div class="user-details"> *@
@*                 <div class="detail-row"> *@
@*                     <span class="detail-label">工號：</span> *@
@*                     <span class="detail-value">@ViewBag.UserNo</span> *@
@*                 </div> *@
@*                 <div class="detail-row"> *@
@*                     <span class="detail-label">姓名：</span> *@
@*                     <span class="detail-value">@ViewBag.UserName</span> *@
@*                 </div> *@
@*                 <div class="detail-row"> *@
@*                     <span class="detail-label">部門：</span> *@
@*                     <span class="detail-value">@ViewBag.DepartmentName</span> *@
@*                 </div> *@
@*                 <div class="detail-row"> *@
@*                     <span class="detail-label">職稱：</span> *@
@*                     <span class="detail-value">@ViewBag.TitleName</span> *@
@*                 </div> *@
@*                 <div class="detail-row"> *@
@*                     <span class="detail-label">登入時間：</span> *@
@*                     <span class="detail-value">@ViewBag.CurrentTime</span> *@
@*                 </div> *@
@*             </div> *@

@*             <div class="notice"> *@
@*                 <strong>系統狀態：</strong>基礎登入功能已完成<br> *@
@*                 巡檢排班功能正在開發中，敬請期待... *@
@*             </div> *@

@*             <div class="btn-group"> *@
@*                 <button class="btn" onclick="refreshPage()">重新整理</button> *@
@*                 <button class="btn btn-secondary" onclick="logout()">登出系統</button> *@
@*             </div> *@
@*         </div> *@
@*     </div> *@

@*     <script> *@
@*         // Logo 錯誤處理 *@
@*         document.addEventListener('DOMContentLoaded', function() { *@
@*             const logo = document.querySelector('.header .logo'); *@
@*             if (logo) { *@
@*                 logo.addEventListener('error', function() { *@
@*                     this.style.display = 'none'; *@
@*                     console.log('Logo 檔案不存在，已隱藏圖片元素'); *@
@*                 }); *@
@*             } *@
@*         }); *@

@*         // 登出功能 *@
@*         async function logout() { *@
@*             if (confirm('確定要登出嗎？')) { *@
@*                 try { *@
@*                     const response = await fetch('@Url.Action("Logout", "Inspection")', { *@
@*                         method: 'POST', *@
@*                         headers: { *@
@*                             'RequestVerificationToken': document.querySelector('input[name="__RequestVerificationToken"]')?.value *@
@*                         } *@
@*                     }); *@
@*                     window.location.href = '@Url.Action("Login", "Account")'; *@
@*                 } catch (error) { *@
@*                     window.location.href = '@Url.Action("Login", "Account")'; *@
@*                 } *@
@*             } *@
@*         } *@

@*         // 重新整理頁面 *@
@*         function refreshPage() { *@
@*             window.location.reload(); *@
@*         } *@

@*         // 檢查登入狀態 *@
@*         async function checkLoginStatus() { *@
@*             try { *@
@*                 const response = await fetch('@Url.Action("CheckLoginStatus", "Account")'); *@
@*                 const result = await response.json(); *@

@*                 if (!result.isLoggedIn) { *@
@*                     alert('登入已過期，請重新登入'); *@
@*                     window.location.href = '@Url.Action("Login", "Account")'; *@
@*                 } *@
@*             } catch (error) { *@
@*                 console.log('檢查登入狀態失敗:', error); *@
@*             } *@
@*         } *@

@*         // 每10分鐘檢查一次登入狀態 *@
@*         setInterval(checkLoginStatus, 10 * 60 * 1000); *@

@*         // 頁面載入完成 *@
@*         document.addEventListener('DOMContentLoaded', function() { *@
@*             console.log('Dashboard loaded successfully'); *@
@*         }); *@
@*     </script> *@

@*     @Html.AntiForgeryToken() *@
@* </body> *@
@* </html>header h1 { *@
@*             font-size: 18px; *@
@*             margin-bottom: 5px; *@
@*         } *@

@*         .user-info { *@
@*             font-size: 14px; *@
@*             text-align: right; *@
@*         } *@

@*         .user-info div { *@
@*             margin-bottom: 3px; *@
@*         } *@

@*         .logout-btn { *@
@*             background-color: #666; *@
@*             color: white; *@
@*             border: none; *@
@*             padding: 8px 15px; *@
@*             border-radius: 4px; *@
@*             font-size: 12px; *@
@*             cursor: pointer; *@
@*             margin-top: 5px; *@
@*         } *@

@*         .logout-btn:hover { *@
@*             background-color: #888; *@
@*         } *@

@*         .container { *@
@*             padding: 20px; *@
@*             max-width: 800px; *@
@*             margin: 0 auto; *@
@*         } *@

@*         .welcome-card { *@
@*             background: white; *@
@*             border: 1px solid #ddd; *@
@*             border-radius: 8px; *@
@*             padding: 30px; *@
@*             text-align: center; *@
@*             box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); *@
@*         } *@

@*         .welcome-card h2 { *@
@*             color: #333; *@
@*             margin-bottom: 20px; *@
@*         } *@

@*         .user-details { *@
@*             background-color: #f8f9fa; *@
@*             border: 1px solid #e9ecef; *@
@*             border-radius: 4px; *@
@*             padding: 20px; *@
@*             margin: 20px 0; *@
@*             text-align: left; *@
@*         } *@

@*         .user-details .detail-row { *@
@*             display: flex; *@
@*             justify-content: space-between; *@
@*             margin-bottom: 10px; *@
@*             padding-bottom: 5px; *@
@*             border-bottom: 1px solid #e9ecef; *@
@*         } *@

@*         .user-details .detail-row:last-child { *@
@*             margin-bottom: 0; *@
@*             border-bottom: none; *@
@*         } *@

@*         .detail-label { *@
@*             font-weight: 600; *@
@*             color: #666; *@
@*         } *@

@*         .detail-value { *@
@*             color: #333; *@
@*         } *@

@*         .notice { *@
@*             background-color: #fff3cd; *@
@*             border: 1px solid #ffeaa7; *@
@*             border-radius: 4px; *@
@*             padding: 15px; *@
@*             margin-top: 20px; *@
@*             color: #856404; *@
@*         } *@

@*         .btn-group { *@
@*             margin-top: 30px; *@
@*         } *@

@*         .btn { *@
@*             background-color: #333; *@
@*             color: white; *@
@*             border: none; *@
@*             padding: 10px 20px; *@
@*             border-radius: 4px; *@
@*             font-size: 14px; *@
@*             cursor: pointer; *@
@*             margin: 0 5px; *@
@*             text-decoration: none; *@
@*             display: inline-block; *@
@*         } *@

@*         .btn:hover { *@
@*             background-color: #555; *@
@*         } *@

@*         .btn-secondary { *@
@*             background-color: #666; *@
@*         } *@

@*         .btn-secondary:hover { *@
@*             background-color: #888; *@
@*         } *@

@*         /* 手機版響應 */ *@
@* @@media (max-width: 480px) { *@
@*             .header { *@
@*                 flex-direction: column; *@
@*                 align-items: flex-start; *@
@*             } *@

@*             .user-info { *@
@*                 text-align: left; *@
@*                 width: 100%; *@
@*                 margin-top: 10px; *@
@*             } *@

@*             .container { *@
@*                 padding: 15px; *@
@*             } *@

@*             .user-details .detail-row { *@
@*                 flex-direction: column; *@
@*             } *@

@*             .detail-label { *@
@*                 margin-bottom: 5px; *@
@*             } *@
@*         } *@
@*     </style> *@
@* </head> *@
@* <body> *@
@*     <div class="header"> *@
@*         <div> *@
@*             <h1>MES 巡檢系統 - 個人排班</h1> *@
@*         </div> *@
@*         <div class="user-info"> *@
@*             <div>@ViewBag.UserName (@ViewBag.UserNo)</div> *@
@*             <div>@ViewBag.DepartmentName 部門</div> *@
@*             <div>@ViewBag.TitleName</div> *@
@*             <div>@ViewBag.CurrentTime</div> *@
@*             <button class="logout-btn" onclick="logout()">登出</button> *@
@*         </div> *@
@*     </div> *@

@*     <div class="container"> *@
@*         <div class="welcome-card"> *@
@*             <h2>歡迎使用 MES 巡檢系統</h2> *@
@*             <p>登入成功！您已進入個人排班頁面。</p> *@

@*             <div class="user-details"> *@
@*                 <div class="detail-row"> *@
@*                     <span class="detail-label">工號：</span> *@
@*                     <span class="detail-value">@ViewBag.UserNo</span> *@
@*                 </div> *@
@*                 <div class="detail-row"> *@
@*                     <span class="detail-label">姓名：</span> *@
@*                     <span class="detail-value">@ViewBag.UserName</span> *@
@*                 </div> *@
@*                 <div class="detail-row"> *@
@*                     <span class="detail-label">部門：</span> *@
@*                     <span class="detail-value">@ViewBag.DepartmentName</span> *@
@*                 </div> *@
@*                 <div class="detail-row"> *@
@*                     <span class="detail-label">職稱：</span> *@
@*                     <span class="detail-value">@ViewBag.TitleName</span> *@
@*                 </div> *@
@*                 <div class="detail-row"> *@
@*                     <span class="detail-label">登入時間：</span> *@
@*                     <span class="detail-value">@ViewBag.CurrentTime</span> *@
@*                 </div> *@
@*             </div> *@

@*             <div class="notice"> *@
@*                 <strong>系統狀態：</strong>基礎登入功能已完成<br> *@
@*                 巡檢排班功能正在開發中，敬請期待... *@
@*             </div> *@

@*             <div class="btn-group"> *@
@*                 <button class="btn" onclick="refreshPage()">重新整理</button> *@
@*                 <button class="btn btn-secondary" onclick="logout()">登出系統</button> *@
@*             </div> *@
@*         </div> *@
@*     </div> *@

@*     <script> *@
@*         // 登出功能 *@
@*         async function logout() { *@
@*             if (confirm('確定要登出嗎？')) { *@
@*                 try { *@
@*                     const response = await fetch('@Url.Action("Logout", "Inspection")', { *@
@*                         method: 'POST', *@
@*                         headers: { *@
@*                             'RequestVerificationToken': document.querySelector('input[name="__RequestVerificationToken"]')?.value *@
@*                         } *@
@*                     }); *@
@*                     window.location.href = '@Url.Action("Login", "Account")'; *@
@*                 } catch (error) { *@
@*                     window.location.href = '@Url.Action("Login", "Account")'; *@
@*                 } *@
@*             } *@
@*         } *@

@*         // 重新整理頁面 *@
@*         function refreshPage() { *@
@*             window.location.reload(); *@
@*         } *@

@*         // 檢查登入狀態 *@
@*         async function checkLoginStatus() { *@
@*             try { *@
@*                 const response = await fetch('@Url.Action("CheckLoginStatus", "Account")'); *@
@*                 const result = await response.json(); *@

@*                 if (!result.isLoggedIn) { *@
@*                     alert('登入已過期，請重新登入'); *@
@*                     window.location.href = '@Url.Action("Login", "Account")'; *@
@*                 } *@
@*             } catch (error) { *@
@*                 console.log('檢查登入狀態失敗:', error); *@
@*             } *@
@*         } *@

@*         // 每10分鐘檢查一次登入狀態 *@
@*         setInterval(checkLoginStatus, 10 * 60 * 1000); *@

@*         // 頁面載入完成 *@
@*         document.addEventListener('DOMContentLoaded', function() { *@
@*             console.log('Dashboard loaded successfully'); *@
@*         }); *@
@*     </script> *@

@*     @Html.AntiForgeryToken() *@
@* </body> *@
@* </html> *@